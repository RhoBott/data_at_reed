---
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(palmerpenguins)
library(tidyverse)
library(knitr)
```

# Wrangling Data

While working with data, you may wish to rearrange it, add more information from another data source, add a new variable to the data, or summarize your data. All of these operations fall under the category of "data wrangling", and represent the bulk of data-related work.

### Tidy Data Principles, Reshaping Data, and `tidyr`

Packages in the `tidyverse`, like `ggplot2` (useful for visualizing data) and `dplyr` (a key tool in data wrangling), are built to work with so-called "tidy" data. 

For a dataset to be tidy, it must follow these three rules:

1. Each variable must have its own column

2. Each observation must have its own row

3. Each value must have its own cell

The `tidyr` package will prove useful in data restructuring or "tidying".

#### Example: penguin body mass and `group_by()`
For an example, return to the `palmerpenguins` data. (For instructions on loading `penguins`, see [Getting Started](LINK-HERE).)

For our summarized `penguins` data, we want to have the mean body mass for _all_ penguins, on a given island, in a given year. To do this, we use the `dplyr` function `group_by()` which takes the original data and groups it by the given variable (or variables, in this case `island` and `year`). 

You can read the (incomplete) code below as "take the `penguins` dataset, break it apart by island AND by year, and then..."

```{r, eval = FALSE, message = FALSE, warning = FALSE}
penguins %>%
  group_by(island, year) %>%
```

To calculate the body weight (mass in g) for each group, use `summarize()`. This will be covered more in depth further down this page. For now, the purpose of this summary table is to be able to easily see what tidy versus untidy data looks like.

```{r, echo = FALSE, message = FALSE, warning = FALSE}
penguins_sum <- penguins %>%
  group_by(island, year) %>%
  summarize(mean_body_mass_g = mean(body_mass_g, na.rm= TRUE))

penguins_sum
```

The resulting data is tidy: each variable has its own column, each observation (penguin) is a row, and each (measure) has its own cell.

Compare that with the result of this code:

```{r}
penguins_sum %>%
  pivot_wider(id_cols = c("island", "year"), names_from = year, values_from = mean_body_mass_g)
```

While the above data contains the same information, in this version, the mean body mass is found in three different columns, one for each year. Per "tidy data" rules, `year` and `body mass` are both variables and should therefore have their own columns. Similarly, `year` should have its own column.

The data you are working with may to analyze might look more like the second version ("untidy" data). No matter; you can move from tidy to untidy or and back again using `tidyr`.

#### Restructuring with pivot_wider()

Begin with the first, tidy version:

```{r, message = FALSE, warning = FALSE}
penguins_sum
```

To make the untidy version, "pivot" this data from a "long" format to a "wide" format using the `pivot_wider()` function from `tidyr`:

```{r, warning = FALSE, message = FALSE}
penguins_wide <- penguins_sum %>%
  pivot_wider(id_cols = c("island", "year"), 
              names_from = year, 
              values_from = mean_body_mass_g)

penguins_wide
```

Looking more closely at `pivot_wider()`

- `id_cols` (read: ID columns) are the variables that, together, identify what makes a row unique in the original data
- `names_from` determines what variable from the old data will determine the names of columns in the new data
- `values_from` is the name of the variable in the old data that will be contained in cells in the new data.

If given this untidy table, you can tidy the data by pivoting from "wide" to "long" using `pivot_longer()`.

#### Restructuring with pivot_longer()

```{r}
penguins_wide %>%
  pivot_longer(cols = c("2007", "2008", "2009"), 
               names_to = "year",
               values_to = "mean_body_mass_g")
```

As you might have noticed, `pivot_longer()` and `pivot_wider()` are inverse operations. Pivoting a widened dataset to a longer format gives you back the original dataset, and vice versa.

If you are interested in learning more about tidy data and pivoting, see the [Tidy Data chapter](https://r4ds.had.co.nz/tidy-data.html) in [R for Data Science].

### Transforming Data With `dplyr`

Once data is tidy, you can use `dplyr` to further transform your data.

The below documentation covers six fundamental `dpylr` functions that should allow you to perform the majority of data wrangling tasks. Throughout these examples, using the `palmerpenguins` data, you will see the `head()` function used as a way to confirm the effect of the data transformations.

You can also use `head()` to get a sense of your dataset, variables, and values:
```{r}
head(penguins)
```

#### 1. Filtering Rows with `filter()`

Perhaps you wish to subset your data, retaining only observations (rows) that meet given criteria. The below code focuses on female penguins only:

```{r}
penguins %>%
  filter(sex == "female")
```

While this specifies penguins with a bill length of less than 40mm:

```{r}
penguins %>%
  filter(bill_length_mm < 40)
```

You can also get very specific, here focusing on penguins from Trogersen Island that were observed in 2008 with a body mass greater than 3500 grams:

```{r}
penguins %>%
  filter(island == "Torgersen" & year == 2008 & body_mass_g > 3500 )
```

In working with the penguins data, you may have noticed missing values (`NA`) throughout the dataset. Missing data can complicate data analysis, and you should be intentional in how you approach your `NA`s (!).

You can use `filter()` combined with `!is.na()` ("is not missing") to remove missing observations for a given variable. For example, creating a dataset that is only penguins of known sex:

```{r}
known <- penguins %>%
  filter(!is.na(sex))
```

Conversely, you may wish to focus on observations with missing values, using `filter()` in combination with `is.na()` ("is missing").

```{r}
unknown <- penguins %>%
  filter(is.na(sex))
```

#### 2. Arranging Rows with `arrange()`

Sometimes it is helpful to sort data, alphabetically or numerically. You can sort data using the `arrange()` function from `dplyr`.

To arrange all penguins, in order of increasing bill length:

```{r}
penguins %>%
  arrange(bill_length_mm)
```

In order or decreasing bill length:

```{r}
penguins %>%
  arrange(desc(bill_length_mm))
```

For character data, `dplyr` will arrange alphabetically.

```{r}
penguins %>%
  arrange(species)
```

#### 3. Selecting Columns with `select()`

A dataset may have more variables than you need. You can use the `select()` function to subset data to only variables of interest.

To create a dataset containing information on penguin species:

```{r}
spp_only <- penguins %>%
  select(species)
```

To create a dataset that is everything _except_ species information:
```{r}
no_spp <- penguins %>%
  select(-species)
```

To create a dataset of species, island, and sex information:
```{r}
sis <- penguins %>%
  select(species, island, sex)
```

#### 4. Creating New Columns with `mutate()`

Another common data wrangling task is to create a new variable, using function `mutate()`. When creating a new variable, you provide a name for the new column and a method for calculating the new value. 

Continuing with the penguins data, the below creates a new new column for the mean body mass in kilograms:

```{r}
penguins %>%
  mutate(body_mass_kg = (body_mass_g / 1000))
```

Perhaps you realized that all flipper measurements were 4 mm short of the true length; you could use `mutate()` to adjust the data:

```{r}
penguins %>%
  mutate(flipper_length_mm = flipper_length_mm + 4)
```

You can also combine `mutate()` with other functions. The below code calculates total body mass of _all_ penguins on each island.

```{r}
penguins %>%
  group_by(island) %>%
  mutate(island_penguin_mass = sum(body_mass_g))
```

It may be useful to give R rules for creating new variables. For example, the below code divides all penguins into flipper length categories, based on the mean flipper length of the dataset (201mm), using the `case_when()` function.

```{r}
penguins %>%
  mutate(flipper_category =
           case_when( flipper_length_mm > 201 ~ "short",
                      flipper_length_mm < 201 ~ "long",
                      flipper_length_mm == 201 ~ "average"))
```

#### 5. Summarizing Data with `group_by()` and `summarize()`

Often, data contains groupings (by geography, time period, experimental group). The `group_by()` function enables R to first group observations and then perform additional calculations. Function `summarize()` often proves useful with `group_by()`, allowing the calculation of measures across groups (mean, median, variance, etc).

Continuing with the penguins data, one goal may be to end up with a variable that shows  mean body mass of penguins for each island. First feed the grouping variable into `group_by()`:

```{r}
penguins %>%
  group_by(island)
```

The above code did not change anything about the dataset; the `group_by()` function changes the metadata of the dataset. (You can think of this as R getting the dataset ready for a further transformation to be applied to it, with the rule of "anything that happens, happens within these groupings".) 

With the group defined, apply the `summarize()` function to calculate mean body mass by island.

```{r}
penguins %>%
  group_by(island) %>%
  summarise(mean_body_mass_g = mean(body_mass_g, na.rm = TRUE))
```

Missing values (`NA`) are an important consideration in data analysis. In the above code, the `na.rm = TRUE` removes any missing values in `body_mass_g` so R is free to calculate the mean of the body mass data that is in the dataset. (To experiment with the effect of `na.rm = TRUE`, run the above code without that argument.)

You can extend the above approach to group by _both_ island and year:

```{r}
penguins %>%
  group_by(island, year) %>%
  summarise(mean_body_mass_g = mean(body_mass_g, na.rm = TRUE))
```

If you want to learn more about `dplyr`, [the package's website](https://dplyr.tidyverse.org/) contains a more extensive overview of the package and its functions. You might also check out the [data transformation chapter](https://r4ds.had.co.nz/transform.html) of the R for Data Science book.

#### 6. Frequency Tables with `count()`

Frequency tables can be a helpful way of displaying information about your data. For example, what if we want to know how many male and female penguins are in our sample? We can build a frequency table for this. 

To do so, we can `count()` by the groups of any variable. First, by `sex`:

```{r}
penguins %>%
  count(sex)
```

Now we can easily see that our sample includes 165 females, 168 males, and 11 rows have an NA value in that column. 

What if we want to see how many males and females were sampled on each island? We can simply `count()` by `island` and `sex`:

```{r}
penguins %>%
  count(island, sex)
```

`count()` is a quick and easy way to produce frequency tables in R.

### strings with `stringr`

Often times you might find yourself with a dataset that includes data in the form of a string. A string is basically a group of characters, and can include numbers, letters, spaces, and special characters. Strings are most often represented as `"text surrounded in quotes"` in R. The package `stringr` is really useful tool for working with this type of data, and thankfully is already included in the `tidyverse` package. If you have already loaded the `tidyverse` with `library(tidyverse)`, then you are ready to start using `stringr`.

Instead of going through a step-by-step tutorial on exactly how each `stringr` function works, we will go through a couple of concrete examples using the `penguins` dataset to show off different ways to use `stringr` in your data wrangling.

Most functions you will want to use from the `stringr` function begin with `str_`. If you ever forget the name of the function you need, try just typing `str_` and scrolling through the auto-completed list of functions exported from `stringr`.

String manipulations are carried out with the use of _patterns_, specified with a language called _regular expressions_ (or "regex", for short). Regular expressions are just shorthand ways of specifying general patterns that you wish to match in data. The following symbols might be helpful in getting started:

1. `^x` : means 'begins with `x`'
2. `x$` : means 'ends with `x`'
3. `x{n}` : means exactly n occurrences of `x`
4. `x{n,}` : means n or more occurrences of `x`
5. `x{n,m}` : between n and m occurrences of `x`
6. `[xyz]` : means 'includes `x` or `y` or `z`'

We will demo what each of these looks like in context below.

Here, we are filtering our data to only look at penguin species that start with the letter 'A' who belong to an island that ends with the letter 'm'.

```{r}
penguins %>%
  filter(str_detect(species, "^A") & str_detect(island, "m$"))
```

If you are comfortable with `dplyr`, you may be realizing that this is not the most efficient way to solve this problem, as we could very easily use `filter(species == "Adelie" & island == "Dream")`, but if you were dealing with a dataset that had trickier structure, using `str_detect()` makes a lot of things possible.

For example, imagine that you were looking at a dataset that had a column called `name` which included the names of 100 different species of fish. You could use the code above to only look at species that started or ended with a certain letter.

This can be extended beyond just a letter, so that we can look for observations that start or end with any given combination of characters:

```{r}
penguins %>%
  filter(str_detect(species, "^Adeli"))
```

Next, we will take a look at an example where we want to only look at species that end in 1 or 2 "o's", and then we use a helpful function called `str_to_upper()` to capitalize the names of those species:

```{r}
penguins_edited <- penguins %>%
  filter(str_detect(species, "o{1,2}$"))%>%
  mutate(species = str_to_upper(species))

penguins_edited
```

Of course, there is also a corresponding `str_to_lower()` function. 

Following off of our previous code, we can then use a function called `str_remove()` to drop two "O's" from the end of each one (when they exist). You do not get to see it here but if some of our species ended with three "O's" our code would have only the first two.

```{r}
penguins_edited %>%
  mutate(species = str_remove(species,"O{2}$"))
```

This can be especially useful when you have observations that have a prefix or a suffix that you do not want.

One important thing to note is that your inputs into `str_*` functions are usually case-sensitive.

The last function that we will show here will be `str_replace()`. In this example we will replace the "e" at the end of "Biscoe" with "otti". 

```{r}
penguins %>%
  filter(island == "Biscoe") %>%
  mutate(island = str_replace(island, "e", "tti"))
```

This is a somewhat silly example, but there are plenty of situations in which making replacements such as these will be important for a project you might be working on.

If you want to replace patterns more extensively, you can use `str_replace_all()`. Here we replaced all occurrences of vowels with "x".

```{r}
penguins %>%
  mutate(species = str_replace_all(species, "[aeiou]", "x"))
```

There are all sorts of tricks for working with strings and regular expressions in R. For many, getting regular expressions to work as you intend is a process of trial and error—you might need a few tries to get where you want to be, but keep at it.

We highly recommend keeping the [stringr cheatsheet](https://evoldyn.gitlab.io/evomics-2018/ref-sheets/R_strings.pdf) by Lise Vaudor around for when you are writing regular expressions. If you want to learn more about `stringr`, [the package's website](https://stringr.tidyverse.org/) contains a more extensive overview of the package and its functions. You might also check out the [Strings chapter](https://r4ds.had.co.nz/strings.html) of the R for Data Science book.

### Data Frames and `tibble`s

So far in this tutorial, we have exclusively worked with "tibbles". From the [`tibble` website](https://tibble.tidyverse.org/):

> A _tibble_, or `tbl_df`, is a modern reimagining of the `data.frame`, keeping what time has proven to be effective, and throwing out what is not. Tibbles are `data.frames` that are lazy and surly: they do less (i.e. they don’t change variable names or types, and don’t do partial matching) and complain more (e.g. when a variable does not exist). This forces you to confront problems earlier, typically leading to cleaner, more expressive code.

If this sounds like gibberish to you, that is okay. The biggest benefit to `tibble`s over `data.frame`s is the way that they print. If we print `penguins` as a tibble, for example, the output looks like this:

```{r, eval = FALSE}
penguins

# # A tibble: 344 x 8
#    species island  bill_length_mm bill_depth_mm flipper_length_… body_mass_g sex    year
#    <fct>   <fct>            <dbl>         <dbl>            <int>       <int> <fct> <int>
#  1 Adelie  Torger…           39.1          18.7              181        3750 male   2007
#  2 Adelie  Torger…           39.5          17.4              186        3800 fema…  2007
#  3 Adelie  Torger…           40.3          18                195        3250 fema…  2007
#  4 Adelie  Torger…           NA            NA                 NA          NA NA     2007
#  5 Adelie  Torger…           36.7          19.3              193        3450 fema…  2007
#  6 Adelie  Torger…           39.3          20.6              190        3650 male   2007
#  7 Adelie  Torger…           38.9          17.8              181        3625 fema…  2007
#  8 Adelie  Torger…           39.2          19.6              195        4675 male   2007
#  9 Adelie  Torger…           34.1          18.1              193        3475 NA     2007
# 10 Adelie  Torger…           42            20.2              190        4250 NA     2007
# # … with 334 more rows
```

We can easily see the dimensions of the tibble (344 x 8), the variable names and their types, and the first ten rows. 

In contrast, printing out a `data.frame` is a bit unwieldy:

```{r, eval = FALSE}
as.data.frame(penguins)

#     species    island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g    sex
# 1    Adelie Torgersen           39.1          18.7               181        3750   male
# 2    Adelie Torgersen           39.5          17.4               186        3800 female
# 3    Adelie Torgersen           40.3          18.0               195        3250 female
# 4    Adelie Torgersen             NA            NA                NA          NA   <NA>
# 5    Adelie Torgersen           36.7          19.3               193        3450 female
# 6    Adelie Torgersen           39.3          20.6               190        3650   male
# 7    Adelie Torgersen           38.9          17.8               181        3625 female
# 8    Adelie Torgersen           39.2          19.6               195        4675   male
# 9    Adelie Torgersen           34.1          18.1               193        3475   <NA>
# 10   Adelie Torgersen           42.0          20.2               190        4250   <NA>
# 11   Adelie Torgersen           37.8          17.1               186        3300   <NA>
# 12   Adelie Torgersen           37.8          17.3               180        3700   <NA>
# 13   Adelie Torgersen           41.1          17.6               182        3200 female
# 14   Adelie Torgersen           38.6          21.2               191        3800   male
# 15   Adelie Torgersen           34.6          21.1               198        4400   male
# 16   Adelie Torgersen           36.6          17.8               185        3700 female
# 17   Adelie Torgersen           38.7          19.0               195        3450 female
# 18   Adelie Torgersen           42.5          20.7               197        4500   male
# 19   Adelie Torgersen           34.4          18.4               184        3325 female
# 20   Adelie Torgersen           46.0          21.5               194        4200   male
# 21   Adelie    Biscoe           37.8          18.3               174        3400 female
# 22   Adelie    Biscoe           37.7          18.7               180        3600   male
# 23   Adelie    Biscoe           35.9          19.2               189        3800 female
# 24   Adelie    Biscoe           38.2          18.1               185        3950   male
# 25   Adelie    Biscoe           38.8          17.2               180        3800   male
# 26   Adelie    Biscoe           35.3          18.9               187        3800 female
# 27   Adelie    Biscoe           40.6          18.6               183        3550   male
# 28   Adelie    Biscoe           40.5          17.9               187        3200 female
# 29   Adelie    Biscoe           37.9          18.6               172        3150 female
# 30   Adelie    Biscoe           40.5          18.9               180        3950   male
# 31   Adelie     Dream           39.5          16.7               178        3250 female
# 32   Adelie     Dream           37.2          18.1               178        3900   male
# 33   Adelie     Dream           39.5          17.8               188        3300 female
# 34   Adelie     Dream           40.9          18.9               184        3900   male
# 35   Adelie     Dream           36.4          17.0               195        3325 female
# 36   Adelie     Dream           39.2          21.1               196        4150   male
# 37   Adelie     Dream           38.8          20.0               190        3950   male
# 38   Adelie     Dream           42.2          18.5               180        3550 female
# 39   Adelie     Dream           37.6          19.3               181        3300 female
# 40   Adelie     Dream           39.8          19.1               184        4650   male
# 41   Adelie     Dream           36.5          18.0               182        3150 female
# 42   Adelie     Dream           40.8          18.4               195        3900   male
# 43   Adelie     Dream           36.0          18.5               186        3100 female
# 44   Adelie     Dream           44.1          19.7               196        4400   male
# 45   Adelie     Dream           37.0          16.9               185        3000 female
# 46   Adelie     Dream           39.6          18.8               190        4600   male
# 47   Adelie     Dream           41.1          19.0               182        3425   male
# 48   Adelie     Dream           37.5          18.9               179        2975   <NA>
# 49   Adelie     Dream           36.0          17.9               190        3450 female
# 50   Adelie     Dream           42.3          21.2               191        4150   male
# 51   Adelie    Biscoe           39.6          17.7               186        3500 female
# 52   Adelie    Biscoe           40.1          18.9               188        4300   male
# 53   Adelie    Biscoe           35.0          17.9               190        3450 female
# 54   Adelie    Biscoe           42.0          19.5               200        4050   male
# 55   Adelie    Biscoe           34.5          18.1               187        2900 female
# 56   Adelie    Biscoe           41.4          18.6               191        3700   male
# 57   Adelie    Biscoe           39.0          17.5               186        3550 female
# 58   Adelie    Biscoe           40.6          18.8               193        3800   male
# 59   Adelie    Biscoe           36.5          16.6               181        2850 female
# 60   Adelie    Biscoe           37.6          19.1               194        3750   male
# 61   Adelie    Biscoe           35.7          16.9               185        3150 female
# 62   Adelie    Biscoe           41.3          21.1               195        4400   male
# 63   Adelie    Biscoe           37.6          17.0               185        3600 female
# 64   Adelie    Biscoe           41.1          18.2               192        4050   male
# 65   Adelie    Biscoe           36.4          17.1               184        2850 female
# 66   Adelie    Biscoe           41.6          18.0               192        3950   male
# 67   Adelie    Biscoe           35.5          16.2               195        3350 female
# 68   Adelie    Biscoe           41.1          19.1               188        4100   male
# 69   Adelie Torgersen           35.9          16.6               190        3050 female
# 70   Adelie Torgersen           41.8          19.4               198        4450   male
# 71   Adelie Torgersen           33.5          19.0               190        3600 female
# 72   Adelie Torgersen           39.7          18.4               190        3900   male
# 73   Adelie Torgersen           39.6          17.2               196        3550 female
# 74   Adelie Torgersen           45.8          18.9               197        4150   male
# 75   Adelie Torgersen           35.5          17.5               190        3700 female
# 76   Adelie Torgersen           42.8          18.5               195        4250   male
# 77   Adelie Torgersen           40.9          16.8               191        3700 female
# 78   Adelie Torgersen           37.2          19.4               184        3900   male
# 79   Adelie Torgersen           36.2          16.1               187        3550 female
# 80   Adelie Torgersen           42.1          19.1               195        4000   male
# 81   Adelie Torgersen           34.6          17.2               189        3200 female
# 82   Adelie Torgersen           42.9          17.6               196        4700   male
# 83   Adelie Torgersen           36.7          18.8               187        3800 female
# 84   Adelie Torgersen           35.1          19.4               193        4200   male
# 85   Adelie     Dream           37.3          17.8               191        3350 female
# 86   Adelie     Dream           41.3          20.3               194        3550   male
# 87   Adelie     Dream           36.3          19.5               190        3800   male
# 88   Adelie     Dream           36.9          18.6               189        3500 female
# 89   Adelie     Dream           38.3          19.2               189        3950   male
# 90   Adelie     Dream           38.9          18.8               190        3600 female
# 91   Adelie     Dream           35.7          18.0               202        3550 female
# 92   Adelie     Dream           41.1          18.1               205        4300   male
# 93   Adelie     Dream           34.0          17.1               185        3400 female
# 94   Adelie     Dream           39.6          18.1               186        4450   male
# 95   Adelie     Dream           36.2          17.3               187        3300 female
# 96   Adelie     Dream           40.8          18.9               208        4300   male
# 97   Adelie     Dream           38.1          18.6               190        3700 female
# 98   Adelie     Dream           40.3          18.5               196        4350   male
# 99   Adelie     Dream           33.1          16.1               178        2900 female
# 100  Adelie     Dream           43.2          18.5               192        4100   male
# 101  Adelie    Biscoe           35.0          17.9               192        3725 female
# 102  Adelie    Biscoe           41.0          20.0               203        4725   male
# 103  Adelie    Biscoe           37.7          16.0               183        3075 female
# 104  Adelie    Biscoe           37.8          20.0               190        4250   male
# 105  Adelie    Biscoe           37.9          18.6               193        2925 female
# 106  Adelie    Biscoe           39.7          18.9               184        3550   male
# 107  Adelie    Biscoe           38.6          17.2               199        3750 female
# 108  Adelie    Biscoe           38.2          20.0               190        3900   male
# 109  Adelie    Biscoe           38.1          17.0               181        3175 female
# 110  Adelie    Biscoe           43.2          19.0               197        4775   male
# 111  Adelie    Biscoe           38.1          16.5               198        3825 female
# 112  Adelie    Biscoe           45.6          20.3               191        4600   male
# 113  Adelie    Biscoe           39.7          17.7               193        3200 female
# 114  Adelie    Biscoe           42.2          19.5               197        4275   male
# 115  Adelie    Biscoe           39.6          20.7               191        3900 female
# 116  Adelie    Biscoe           42.7          18.3               196        4075   male
# 117  Adelie Torgersen           38.6          17.0               188        2900 female
# 118  Adelie Torgersen           37.3          20.5               199        3775   male
# 119  Adelie Torgersen           35.7          17.0               189        3350 female
# 120  Adelie Torgersen           41.1          18.6               189        3325   male
# 121  Adelie Torgersen           36.2          17.2               187        3150 female
# 122  Adelie Torgersen           37.7          19.8               198        3500   male
# 123  Adelie Torgersen           40.2          17.0               176        3450 female
# 124  Adelie Torgersen           41.4          18.5               202        3875   male
# 125  Adelie Torgersen           35.2          15.9               186        3050 female
#     year
# 1   2007
# 2   2007
# 3   2007
# 4   2007
# 5   2007
# 6   2007
# 7   2007
# 8   2007
# 9   2007
# 10  2007
# 11  2007
# 12  2007
# 13  2007
# 14  2007
# 15  2007
# 16  2007
# 17  2007
# 18  2007
# 19  2007
# 20  2007
# 21  2007
# 22  2007
# 23  2007
# 24  2007
# 25  2007
# 26  2007
# 27  2007
# 28  2007
# 29  2007
# 30  2007
# 31  2007
# 32  2007
# 33  2007
# 34  2007
# 35  2007
# 36  2007
# 37  2007
# 38  2007
# 39  2007
# 40  2007
# 41  2007
# 42  2007
# 43  2007
# 44  2007
# 45  2007
# 46  2007
# 47  2007
# 48  2007
# 49  2007
# 50  2007
# 51  2008
# 52  2008
# 53  2008
# 54  2008
# 55  2008
# 56  2008
# 57  2008
# 58  2008
# 59  2008
# 60  2008
# 61  2008
# 62  2008
# 63  2008
# 64  2008
# 65  2008
# 66  2008
# 67  2008
# 68  2008
# 69  2008
# 70  2008
# 71  2008
# 72  2008
# 73  2008
# 74  2008
# 75  2008
# 76  2008
# 77  2008
# 78  2008
# 79  2008
# 80  2008
# 81  2008
# 82  2008
# 83  2008
# 84  2008
# 85  2008
# 86  2008
# 87  2008
# 88  2008
# 89  2008
# 90  2008
# 91  2008
# 92  2008
# 93  2008
# 94  2008
# 95  2008
# 96  2008
# 97  2008
# 98  2008
# 99  2008
# 100 2008
# 101 2009
# 102 2009
# 103 2009
# 104 2009
# 105 2009
# 106 2009
# 107 2009
# 108 2009
# 109 2009
# 110 2009
# 111 2009
# 112 2009
# 113 2009
# 114 2009
# 115 2009
# 116 2009
# 117 2009
# 118 2009
# 119 2009
# 120 2009
# 121 2009
# 122 2009
# 123 2009
# 124 2009
# 125 2009
#  [ reached 'max' / getOption("max.print") -- omitted 219 rows ]
```

In these tutorials, we make use of `tibble`s rather than `data.frame`s, and encourage you to do so as well.

If you want to learn more about `tibble`s, [the package's website](https://tibble.tidyverse.org/) contains a more extensive overview of the package and its functionality.
